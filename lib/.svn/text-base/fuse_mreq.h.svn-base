/*
 * =====================================================================================
 *
 *       Filename:  fuse_mreq.h
 *
 *    Description:  request definition between meta and network
 *
 *        Version:  1.0
 *        Created:  09/19/2011 09:58:01 PM
 *       Revision:  none
 *       Compiler:  gcc
 *
 *         Author:  wyt (none), duanhancong@uestc.edu.cn
 *        Company:  ndsl
 *
 * =====================================================================================
 */

#ifndef __FUSE_MREQ_H_
#define __FUSE_MREQ_H_

/*user log on*/
struct msg_pb_msg_pc_ca_get_token {
	char *uid;//fill
	char *pwd;//fill 
};

/* get directory info**/
struct pb_msg_pc_mu_get_dir_info {
	char *uid; //
	int32_t bucket_index;
	char *path;//fill
};

/*file attr*/
struct file_item {
	char *file_name;
	uint32_t type;
	uint64_t size;
};
/*directory attribution*/
struct pb_msg_pc_mu_get_dir_info_ack {
	uint64_t dir_size;
	struct file_item **file_item;
	uint32_t size;//the size of file_item
};

/*file meta information*/
struct pb_msg_pc_mu_get_file_meta {
	char *uid;
	uint32_t type;
	char *path;//fill
};

/*file meta attrbution**/
struct pb_msg_pc_mu_get_file_meta_ack {
	uint64_t size ;
	char *file_index;
	char *check_sum;
};

/*delete file meta information**/
struct pb_msg_pc_mu_delete_file_meta {
	char *uid;
	int32_t bucket_index;
	char *path;//fill
};

/*delete file meta ack*/
struct pb_msg_pc_mu_delete_file_meta_ack {
	char *file_index;
};

struct pb_msg_pc_mu_delete_dir {
	char *uid;
	int32_t bucket_index;
	char *path;//fill	
};

struct pb_msg_pc_mu_move_file_meta {
	char *uid;
	int32_t bucket_index;
	char *src_path;//fill
	char *dest_path;//fill
};

struct pb_msg_pc_mu_move_file_meta_ack {
	char *file_index;
};

struct pb_msg_pc_mu_move_dir {
	char *uid;
	int32_t bucket_index;
	char *src_path;//fill
	char *dest_path;//fill
};

struct pb_msg_pc_mu_create_dir {
	char *uid;	
	int32_t bucket_index;
	char *path;//fill
};

struct pb_msg_client_su_download_piece {
	char *buf;//fill
	uint32_t offset;//fill
	uint32_t size;//fill
};
struct pb_msg_client_su_download_file {
	char *local_path;//fill
	char *cloud_path;//fill
};
//upload
struct pb_msg_client_su_upload_piece {
	char *buf;//fill
	uint32_t offset; //fill
	uint32_t size;//fill
};

struct pb_msg_client_su_upload_file {
	char *local_path;//fill
	char *cloud_path;//fill
};
#endif
